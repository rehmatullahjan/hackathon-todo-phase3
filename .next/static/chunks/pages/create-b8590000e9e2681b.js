(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{4468:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return a(8658)}])},5179:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var r=a(5893),s=a(7294),n=a(9008),i=a.n(n),l=a(1664),o=a.n(l),d=a(9941);let c=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),s.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}),u=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}),x=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))});function h(){let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)([{role:"assistant",content:'Hi! I can help you manage your tasks. Try "Add a meeting at 2pm" or "What do I have to do?"'}]),[i,l]=(0,s.useState)(""),[o,h]=(0,s.useState)(!1),m=(0,s.useRef)(null),g=()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>{g()},[a]);let f=async e=>{if(e.preventDefault(),!i.trim())return;let t={role:"user",content:i};n(e=>[...e,t]),l(""),h(!0);try{let e=await (0,d.Z)(i);n(t=>[...t,{role:"assistant",content:e.response}])}catch(e){n(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please check if the backend is running and API key is set."}])}finally{h(!1)}};return(0,r.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[!e&&(0,r.jsx)("button",{onClick:()=>t(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-full shadow-lg transition-all transform hover:scale-110",children:(0,r.jsx)(c,{className:"h-6 w-6"})}),e&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-80 sm:w-96 flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden",style:{height:"500px"},children:[(0,r.jsxs)("div",{className:"bg-indigo-600 text-white p-4 flex justify-between items-center",children:[(0,r.jsxs)("h3",{className:"font-semibold flex items-center",children:[(0,r.jsx)(c,{className:"h-5 w-5 mr-2"}),"Todo Assistant"]}),(0,r.jsx)("button",{onClick:()=>t(!1),className:"hover:text-gray-200",children:(0,r.jsx)(u,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900",children:[a.map((e,t)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-indigo-600 text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600 rounded-bl-none"),children:(0,r.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})})},t)),o&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg p-3 rounded-bl-none",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})}),(0,r.jsx)("div",{ref:m})]}),(0,r.jsx)("form",{onSubmit:f,className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Type a message...",className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 text-sm"}),(0,r.jsx)("button",{type:"submit",disabled:o||!i.trim(),className:"bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white p-2 rounded-md transition-colors",children:(0,r.jsx)(x,{className:"h-5 w-5"})})]})})]})]})}var m=()=>{let[e,t]=(0,s.useState)([]),a=(0,s.useRef)(new Set);return(0,s.useEffect)(()=>{let e=async()=>{try{let e=await d.C.get("/tasks",{params:{status:"pending"}});t(e.data)}catch(e){console.error("NotificationManager failing to fetch:",e)}};e();let a=setInterval(e,6e4);return()=>clearInterval(a)},[]),(0,s.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),(0,s.useEffect)(()=>{if(!e||!("Notification"in window)||"granted"!==Notification.permission)return;let t=setInterval(()=>{let t=new Date;e.forEach(e=>{if(e.reminder_at&&"completed"!==e.status){let r=new Date(e.reminder_at);r<=t&&r>new Date(t.getTime()-6e5)&&!a.current.has(e.id)&&(new Notification("Reminder: ".concat(e.title),{body:e.description||"You have a task due!",icon:"/favicon.ico"}),a.current.add(e.id))}})},1e4);return()=>clearInterval(t)},[e]),null},g=e=>{let{children:t,title:a="Hackathon Todo"}=e;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:a})}),(0,r.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"flex justify-between h-16",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)(o(),{href:"/",className:"flex-shrink-0 flex items-center cursor-pointer group",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold mr-2 group-hover:bg-blue-700 transition",children:"HT"}),(0,r.jsx)("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Hackathon Todo"})]})})})})}),(0,r.jsx)("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),(0,r.jsx)(h,{}),(0,r.jsx)(m,{})]})}},8658:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(5893),s=a(7294),n=a(1163),i=a(9941),l=a(3198),o=a(5179);function d(){let e=(0,n.useRouter)(),[t,a]=(0,s.useState)(""),d=async t=>{a("");try{await i.C.post("/tasks",t),e.push("/")}catch(t){var r,s;console.error("Failed to create task",t);let e=(null===(s=t.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.detail)?JSON.stringify(t.response.data.detail):t.message||"Unknown error";a("Failed to save task: ".concat(e))}};return(0,r.jsx)(o.Z,{title:"Create Task | Hackathon Todo",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Create New Task"}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"Add a new item to your hackathon checklist."})]}),t&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:t}),(0,r.jsx)(l.Z,{onSubmit:d,onCancel:()=>e.push("/")})]})})}},9008:function(e,t,a){e.exports=a(2636)}},function(e){e.O(0,[959,4,774,888,179],function(){return e(e.s=4468)}),_N_E=e.O()}]);